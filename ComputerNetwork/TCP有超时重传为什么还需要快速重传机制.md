TCP 同时使用 **超时重传**（Retransmission Timeout, RTO）和 **快速重传**（Fast Retransmit）机制，是为了在不同场景下高效应对数据包丢失问题，两者互补，共同提升传输性能：

---

### **1. 超时重传的局限性**
- **依赖定时器**：发送方在发送数据后启动定时器，若未在预设时间内收到 ACK，则重传数据。但超时时间（RTO）是基于动态估算的往返时间（RTT），可能因网络波动（如延迟尖峰）导致 **重传延迟过高**。
- **低效应对短暂拥塞**：若丢包由短暂网络拥塞引起，超时重传可能等待较长时间，导致传输效率下降，尤其在高延迟或高带宽场景中问题更显著。

---

### **2. 快速重传的优势**
- **基于重复 ACK 触发**：当接收方检测到乱序数据包时，会立即发送重复 ACK（携带期望的下一个序号）。发送方收到 **3 个重复 ACK** 后，直接重传缺失的包，无需等待定时器超时。
- **快速响应单个丢包**：在常见场景（如单个包丢失）中，快速重传能将重传延迟从 **数百毫秒级（RTO）降低到几十毫秒级**，显著减少重传等待时间，提升吞吐量。

---

### **3. 两者的互补性**
| **机制**     | **触发条件**             | **适用场景**                 | **优缺点**                                      |
| ------------ | ------------------------ | ---------------------------- | ----------------------------------------------- |
| **超时重传** | 定时器超时（未收到 ACK） | 严重丢包或 ACK 全部丢失      | 可靠但延迟高，适用于无法通过重复 ACK 检测的丢包 |
| **快速重传** | 收到 3 个重复 ACK        | 单个或少量丢包，后续包仍到达 | 快速但依赖后续包触发，无法处理连续多包丢失      |

---

### **4. 实际网络中的表现**
- **快速重传优化常见场景**：大多数丢包是短暂的（如短暂拥塞），快速重传能快速恢复，避免 RTO 的长延迟。
- **超时重传兜底**：当多个连续包丢失或 ACK 全部丢失时，快速重传无法触发，此时依赖超时重传确保最终可靠性。

---

### **示例场景**
假设发送方连续发送包 1、2、3、4：
- **包 3 丢失**：接收方收到包 1、2、4 后，连续发送 3 个 ACK（期望包 3）。发送方收到重复 ACK 后，立即重传包 3（快速重传）。
- **包 3 和 4 均丢失**：接收方仅收到包 1、2，无法触发重复 ACK，此时需依赖超时重传。

---

### **总结**
- **超时重传是“保底机制”**，确保最终可靠性，但延迟较高。
- **快速重传是“优化机制”**，针对常见丢包场景快速响应，提升效率。
- 两者结合使 TCP 在 **可靠性** 和 **性能** 之间取得平衡。