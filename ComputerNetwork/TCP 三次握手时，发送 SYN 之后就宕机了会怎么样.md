在 **TCP 三次握手** 过程中，如果客户端在发送 `SYN` 报文后突然 **宕机**，会导致以下情况：

### 1. **服务器处于 SYN-RECEIVED 状态**

- 客户端发送 `SYN` 后，服务器收到后会回复 `SYN-ACK`，并进入 **SYN-RECEIVED** 状态，等待客户端的 `ACK` 确认。
- 由于客户端已经宕机，它不会再发送 `ACK`，导致服务器的这个连接进入超时状态。

### 2. **服务器的超时重传机制**

- 服务器在 **SYN-RECEIVED** 状态下，会等待 `ACK` 的到来，并且会 **重发 SYN-ACK** 以防止丢包。
- 但如果多次重发 `SYN-ACK` 后仍未收到 `ACK`，服务器会 **放弃该连接**，并释放资源。

### 3. **服务器不会建立真正的 TCP 连接**

- 由于三次握手 **没有完成**，服务器不会进入 `ESTABLISHED` 状态，意味着该连接不会被真正建立。
- 因此，宕机的客户端不会影响服务器的长期运行，服务器最终会回收该连接的资源。

------

### **可能的影响**

1. **半连接（Half-open Connection）积累**
   - 如果短时间内大量客户端发送 `SYN` 后宕机或故意不发送 `ACK`（SYN Flood 攻击），服务器会有大量 `SYN-RECEIVED` 状态的连接，占用资源，可能导致 **拒绝服务攻击（DoS）**。
   - 服务器通常通过 **SYN Cookies** 或 **限制半连接队列** 来缓解这个问题。
2. **连接超时，资源释放**
   - 服务器会设置 **超时重传机制**，如 30s、60s 后放弃该连接，避免永久占用资源。

------

### **总结**

- **短期影响：** 服务器会等待一段时间，然后超时重传 `SYN-ACK`，最终释放资源。
- **长期影响：** 如果大量此类请求发生，可能导致 **SYN Flood 攻击**，服务器可能需要启用 SYN Cookies 或加大半连接队列来防御。