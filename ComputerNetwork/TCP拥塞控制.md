TCP 拥塞控制通过动态调整发送速率来避免网络拥塞，主要包含以下四个核心步骤：

---

### **1. 慢启动（Slow Start）**
- **目的**：探测网络带宽，快速增加发送速率。
- **机制**：
  - 初始阶段，**拥塞窗口（cwnd）** 设为较小值（如 1 MSS，最大报文段长度）。
  - **每收到一个 ACK**，cwnd 增加 1 MSS（即每 RTT 后，cwnd 指数级增长：1 → 2 → 4 → 8...）。
  - **阈值（ssthresh）** 初始设为较大值（如 65535 字节）。
- **终止条件**：
  - cwnd 达到 ssthresh。
  - 发生丢包（触发拥塞避免或快重传）。

---

### **2. 拥塞避免（Congestion Avoidance）**
- **目的**：在接近网络容量时谨慎增长，避免过度拥塞。
- **机制**：
  - 当 cwnd ≥ ssthresh 后，进入线性增长阶段。
  - **每 RTT 增加 1 MSS**（通过 `cwnd += 1/cwnd` 实现）。
- **响应丢包**：
  - **收到 3 个重复 ACK**（快重传触发）：
    - ssthresh = 当前 cwnd / 2。
    - cwnd = ssthresh + 3 MSS（进入快恢复）。
  - **超时重传**（更严重拥塞）：
    - ssthresh = 当前 cwnd / 2。
    - cwnd 重置为 1 MSS，重新进入慢启动。

---

### **3. 快重传（Fast Retransmit）**
- **触发条件**：连续收到 **3 个重复 ACK**（表明有报文段丢失）。
- **操作**：
  - 立即重传丢失的报文段（无需等待超时）。
  - **进入快恢复阶段**，避免大幅降低发送速率。

---

### **4. 快恢复（Fast Recovery）**
- **目的**：在丢包后快速恢复传输，减少吞吐量下降。
- **机制**：
  - ssthresh = 当前 cwnd / 2。
  - cwnd = ssthresh + 3 MSS（补偿重复 ACK 的冗余）。
  - 继续线性增长（每收到一个 ACK，cwnd 减 1 MSS，直到恢复到 ssthresh）。
- **后续**：若再次收到重复 ACK，重复快重传；若发生超时，退回慢启动。

---

### **总结流程**
1. **慢启动**：指数增长，探测带宽。
2. **拥塞避免**：线性增长，谨慎逼近容量。
3. **快重传/恢复**：快速响应丢包，避免大幅降速。

**关键参数**：
- **cwnd**：动态控制发送速率。
- **ssthresh**：区分慢启动与拥塞避免的阈值。

**示例场景**：
- 网络正常时，cwnd 指数增长 → 达到 ssthresh 后线性增长。
- 出现丢包时，通过快重传快速恢复，或超时后保守重启。

通过这四个步骤，TCP 在高效利用带宽的同时，确保网络稳定性。